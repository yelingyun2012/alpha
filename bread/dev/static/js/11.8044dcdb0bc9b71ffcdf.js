webpackJsonp([11],{"7smH":function(e,t,a){"use strict";function n(e){a("q/sr")}Object.defineProperty(t,"__esModule",{value:!0});var s=(a("u8GW"),a("OjDh")),l={name:"RunLog",data:function(){var e=this;return{search:{startTime:"",endTime:"",crawlingLogState:"0",crawlingUrl:"",taskName:"",siteName:"",creatorName:"",pageIndex:1,pageSize:10,token:Object(s.a)("token")},crawlingLogStateList:[{value:"0",label:"全部"},{value:"1",label:"网络请求异常"},{value:"2",label:"抽取异常"}],logColumns:[{title:"任务ID",key:"taskId"},{title:"任务名称",key:"taskName"},{title:"站点",key:"siteName"},{title:"任务创建者",key:"creatorName",align:"center"},{title:"采集器IP",key:"host"},{title:"采集状态",key:"state",align:"center"},{title:"发生时间",key:"date"},{title:"当前URL",key:"crawlingUrl"},{title:"操作",key:"action",width:80,align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.goDetail(a.row)}}},"详情")])}}],logData:[],pageTotal:0,pageSize:10,pageIndex:1}},mounted:function(){var e=this;this.$nextTick(function(){e.getDate()})},methods:{handleSearch:function(){this.pageIndex=1,this.search.pageIndex=1;var e=this.search;e.startTime>e.endTime?this.$Message.error({content:"结束时间不能小于开始时间！",duration:3,closable:!0}):this.getDate()},startTimeFn:function(e){this.search.startTime=e},endTimeFn:function(e){this.search.endTime=e},handlePage:function(e){this.pageIndex=e,this.search.pageIndex=e,this.getDate()},getDate:function(){},goDetail:function(e){console.log(e)}}},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("aside",{staticClass:"log-name"},[a("Row",[a("Col",{attrs:{span:"24"}},[a("span",{staticClass:"title"},[e._v("时间：")]),a("DatePicker",{attrs:{value:e.search.startTime,type:"datetime",placeholder:"请选择时间"},on:{"on-change":e.startTimeFn}}),a("span",[e._v(" - ")]),a("DatePicker",{attrs:{value:e.search.endTime,type:"datetime",placeholder:"请选择时间"},on:{"on-change":e.endTimeFn}}),a("Select",{staticClass:"select",model:{value:e.search.crawlingLogState,callback:function(t){e.$set(e.search,"crawlingLogState",t)},expression:"search.crawlingLogState"}},e._l(e.crawlingLogStateList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1)],1),a("Row",{staticClass:"rowCenter"},[a("Col",{attrs:{span:"6"}},[a("span",{staticClass:"title"},[e._v("采集url：")]),a("Input",{staticClass:"inputText",attrs:{placeholder:"请输入采集url"},model:{value:e.search.crawlingUrl,callback:function(t){e.$set(e.search,"crawlingUrl",t)},expression:"search.crawlingUrl"}})],1),a("Col",{attrs:{span:"6"}},[a("span",{staticClass:"title"},[e._v("任务名称：")]),a("Input",{staticClass:"inputText",attrs:{placeholder:"请输入任务名称"},model:{value:e.search.taskName,callback:function(t){e.$set(e.search,"taskName",t)},expression:"search.taskName"}})],1),a("Col",{attrs:{span:"6"}},[a("span",{staticClass:"title"},[e._v("站点名称：")]),a("Input",{staticClass:"inputText",attrs:{placeholder:"请输入站点名称"},model:{value:e.search.siteName,callback:function(t){e.$set(e.search,"siteName",t)},expression:"search.siteName"}})],1),a("Col",{attrs:{span:"6"}},[a("span",{staticClass:"title"},[e._v("任务创建者：")]),a("Input",{staticClass:"inputText",attrs:{placeholder:"请输入任务创建者"},model:{value:e.search.creatorName,callback:function(t){e.$set(e.search,"creatorName",t)},expression:"search.creatorName"}})],1)],1),a("Row",[a("Col",{staticClass:"btn",attrs:{span:"24"}},[a("Button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1)],1)],1),a("aside",{staticClass:"log-minute"},[a("Table",{attrs:{columns:e.logColumns,data:e.logData,border:"border"}}),a("Page",{attrs:{total:e.pageTotal,current:e.pageIndex,"page-size":e.pageSize,"show-elevator":"show-elevator","show-total":"show-total"},on:{"on-change":e.handlePage}})],1)])},r=[],o={render:i,staticRenderFns:r},c=o,g=a("VU/8"),p=n,u=g(l,c,!1,p,null,null);t.default=u.exports},"g6+9":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".log-name{background-color:#fff;padding:30px 20px;margin-bottom:20px;font-size:14px;color:#323232}.log-name .select{margin-left:10px;width:160px}.log-name .rowCenter{margin:20px 0 24px}.log-name .title{display:inline-block;width:90px;text-align:right}.log-name .inputText{width:calc(100% - 90px - 20px)}.log-name .btn{text-align:right}.log-name .btn button{width:60px;height:35px;font-size:14px}.log-minute{background-color:#fff;padding:20px}.log-minute .ivu-page{margin-top:20px;margin-right:20px;text-align:right}",""])},"q/sr":function(e,t,a){var n=a("g6+9");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("c073d8aa",n,!0)}});