webpackJsonp([19],{KPyU:function(e,t,a){"use strict";function n(e){a("krIn")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("u8GW"),o=a("OjDh"),s={name:"AccountManager",data:function(){var e=this;return{accountColumns:[{title:"用户ID",key:"userId"},{title:"用户名",key:"userName",render:function(t,a){return t("span",{style:{color:"rgb(45, 140, 240)"},on:{click:function(t){e.$router.push({path:"/alterUser/alter",query:{userId:a.row.userId,userRole:a.row.userRole,userName:a.row.userName,email:a.row.email,cellPhone:a.row.cellPhone}})}}},a.row.userName)}},{title:"用户类型",render:function(e,t){switch(t.row.userRole){case 1:return"超级管理员";case 2:return"普通用户"}}},{title:"在线状态",render:function(e,t){switch(t.row.onLineStatus){case 0:return"未登录";case 1:return"已登录"}}},{title:"联系方式",key:"cellPhone"},{title:"创建时间",key:"creatTimes"},{title:"启用状态",align:"center",render:function(t,a){switch(a.row.enabled){case 0:return t("span",{on:{click:function(t){e.alterUserUpdateEnableds(1,a.row.userId),a.row.enabled=1}}},[t("Icon",{style:{fontSize:"16px",padding:"5px 13px",background:"#F2F2F2",borderRadius:"4px",color:"#108EE9"},attrs:{type:e.operateStatus?"ios-play":"ios-pause"}})]);case 1:return t("span",{on:{click:function(t){e.alterUserUpdateEnableds(0,a.row.userId),a.row.enabled=0}}},[t("Icon",{style:{fontSize:"16px",padding:"5px 13px",background:"#F2F2F2",borderRadius:"4px",color:"#EE2337"},attrs:{type:e.operateStatus?"ios-pause":"ios-play"}})])}}},{title:"邮箱",key:"email"},{title:"上次登录时间",key:"lastTimes"},{title:"操作",render:function(t,a){return t("span",{on:{click:function(t){e.confirm(a.row.userId,a.index)}}},[t("Icon",{style:{color:"#F04134",cursor:"pointer",fontSize:"20px",padding:"7px 20px",background:"#F2F2F2",borderRadius:"4px"},attrs:{type:"trash-a"}})])}}],accountData:[],pageSize:10,pageIndex:1,pageTotal:0,userName:"",operateStatus:!0}},methods:{confirm:function(e,t){var a=this;this.$Modal.confirm({content:"<p>是否确定删除该用户</p>",onOk:function(){Object(r.u)({userId:e,token:Object(o.a)("token")}).then(function(e){switch(e.data.respCode){case"0":a.accountData.splice(t,1),a.$Message.success("删除成功");break;case"204":a.$Message.success("参数异常")}})}})},initUserList:function(){var e=this;Object(r.v)({pageIndex:this.pageIndex,pageSize:this.pageSize,userName:this.userName,token:Object(o.a)("token")}).then(function(t){if("205"===t.data.respCode)return e.$router.push("/401"),!1;null!==t.data.data||0!==t.data.data.length?(e.pageTotal=t.data.data.recordCount,e.accountData=t.data.data.result):e.accountData=[]})},deleteUser:function(e,t){},alterUserUpdateEnableds:function(e,t){var a=this;Object(r.x)({enabled:e,userId:t,token:Object(o.a)("token")}).then(function(e){"0"===e.data.respCode&&a.$Message.success("状态修改成功")})},handleSearch:function(){this.pageIndex=1,this.initUserList()},handlePage:function(e){this.pageIndex=e,this.initUserList()},handleAdd:function(){this.$router.push("/alterUser/add")}},created:function(){this.initUserList()}},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("aside",{staticClass:"account-name"},[a("span",{staticClass:"explain"},[e._v("用户名称:")]),a("Input",{staticClass:"typeIn",staticStyle:{width:"20%","max-width":"300px"},attrs:{placeholder:"请输入用户名称"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),a("Button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),a("Button",{on:{click:e.handleAdd}},[e._v("新增")])],1),a("aside",{staticClass:"account-minute"},[a("Table",{attrs:{columns:e.accountColumns,data:e.accountData}}),a("Page",{attrs:{total:e.pageTotal,current:e.pageIndex,"page-size":e.pageSize,"show-elevator":"show-elevator","show-total":"show-total"},on:{"on-change":e.handlePage}})],1)])},c=[],u={render:i,staticRenderFns:c},l=u,d=a("VU/8"),p=n,h=d(s,l,!1,p,null,null);t.default=h.exports},Qn9i:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".account-name{margin-bottom:20px;padding:30px 20px;background-color:#fff}.account-name .explain{color:#323232;font-size:14px}.account-name .typeIn{margin-right:30px;margin-left:4px}.account-name .ivu-btn{padding:6px 23px;font-size:14px}.account-name .ivu-btn:last-child{margin-left:10px}.account-minute{padding:20px;background-color:#fff}.account-minute .ivu-page{margin-top:20px;margin-right:20px;text-align:right}",""])},krIn:function(e,t,a){var n=a("Qn9i");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("d9e8f6e2",n,!0)}});